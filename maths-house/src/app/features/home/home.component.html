<div class="home-container">
  <!-- Character message panel occupies its own row -->
  <div class="message-panel" *ngIf="!showStartup" [ngStyle]="vars">
    <div class="char">
      <img class="avatar" [src]="avatarImage" alt="Puf-Puf" />
      <div class="name">{{ characterName }}</div>
    </div>
    <div class="msg" [innerText]="gameMessage"></div>
  </div>

  <div class="stage" [ngStyle]="vars">
  <div class="house-wrap">
    <img class="house" [src]="media.houseImage" alt="Math House" [style.max-height]="vars['--house-max-height']" />
    

    <!-- Startup overlay -->
    <div class="startup-overlay" *ngIf="showStartup">
  <video #startupVideo class="startup-video" [src]="media.startupVideo" autoplay playsinline (ended)="onStartupEnded()"></video>
  <audio #startupAudio [src]="media.startupAudio" autoplay></audio>
    </div>

    <!-- Only ground floor button initially -->
    <button class="hotzone ground-door" (click)="open('GroundFloor')" [disabled]="isLocked('GroundFloor')">
      <img class="hand hand-fade" [src]="media.handImage" alt="hand" [style.width]="vars['--hand-size']" />
    </button>

    <!-- First floor locked left/right -->
    <button class="hotzone first-left" (click)="open('FirstFloorLeft')" [disabled]="isLocked('FirstFloorLeft')" aria-label="First floor left locked">
      <img class="lock" src="assets/images/lock.png" alt="locked" />
    </button>
    <button class="hotzone first-right" (click)="open('FirstFloorRight')" [disabled]="isLocked('FirstFloorRight')" aria-label="First floor right locked">
      <img class="lock" src="assets/images/lock.png" alt="locked" />
    </button>
  </div>
  </div>
</div>
